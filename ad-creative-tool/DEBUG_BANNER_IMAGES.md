# ãƒãƒŠãƒ¼ç”»åƒè¡¨ç¤ºã®ãƒ‡ãƒãƒƒã‚°

## ğŸ› ç¾åœ¨ã®å•é¡Œ

ãƒãƒŠãƒ¼ç”Ÿæˆæ™‚ã«ç”»åƒãŒè¡¨ç¤ºã•ã‚Œãªã„ã€‚

---

## ğŸ” ãƒ‡ãƒãƒƒã‚°æ‰‹é †

### 1. ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã®è¿½åŠ 

**Commit**: `b12325b`

#### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ (Step5BannerGeneration.tsx)
```typescript
console.log(`[Banner ${i}] Using extracted image:`, backgroundImageUrl);
console.log(`[Banner ${i}] Full URL with bg:`, bannerUrl);
```

#### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ (compose-banner API)
```typescript
console.log('[compose-banner] Parameters:', { text, bg, color, size, category });
console.log('[compose-banner] Using external image:', bg);
```

### 2. ãƒ†ã‚¹ãƒˆç”»åƒã®è¿½åŠ 

**Commit**: `6543326`

æŠ½å‡ºç”»åƒãŒãªã„å ´åˆã€Unsplash ã®å…¬é–‹ç”»åƒã‚’ä½¿ç”¨ï¼š
```typescript
const testImages = [
  'https://images.unsplash.com/photo-1661956602116-aa6865609028?w=1080',
  'https://images.unsplash.com/photo-1661956602153-23384936a1d3?w=1080',
  'https://images.unsplash.com/photo-1661956602868-6ae368943878?w=1080',
];
```

---

## ğŸ§ª ãƒ†ã‚¹ãƒˆæ–¹æ³•

### Vercel ãƒ‡ãƒ—ãƒ­ã‚¤ç¢ºèª

```
https://vercel.com/dashboard
â†’ ad-cr-banana01
â†’ Deployments
â†’ Commit 6543326 ãŒã€ŒReadyã€ã«ãªã‚‹ã¾ã§å¾…ã¤ï¼ˆ1ã€œ3åˆ†ï¼‰
```

### ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèª

1. **ãƒ†ã‚¹ãƒˆURL**: `https://ad-cr-banana01.vercel.app`

2. **ãƒ–ãƒ©ã‚¦ã‚¶ Console ã‚’é–‹ã**:
   ```
   å³ã‚¯ãƒªãƒƒã‚¯ â†’ æ¤œè¨¼ â†’ Console ã‚¿ãƒ–
   ```

3. **ãƒãƒŠãƒ¼ç”Ÿæˆå®Ÿè¡Œ**:
   - Step 1ã€œ4 ã‚’é€²ã‚ã‚‹
   - Step 5ã§ã€ŒSquareãƒãƒŠãƒ¼ç”Ÿæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯

4. **Console ãƒ­ã‚°ã‚’ç¢ºèª**:
   ```
   [Banner 0] Using test image: https://images.unsplash.com/...
   [Banner 0] Full URL with bg: /api/compose-banner?...
   ```

5. **Network ã‚¿ãƒ–ã§ç¢ºèª**:
   ```
   å³ã‚¯ãƒªãƒƒã‚¯ â†’ æ¤œè¨¼ â†’ Network ã‚¿ãƒ–
   â†’ /api/compose-banner ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’ç¢ºèª
   â†’ Response ã‚’ç¢ºèªï¼ˆç”»åƒãŒè¿”ã•ã‚Œã¦ã„ã‚‹ã‹ï¼‰
   ```

---

## ğŸ”§ è€ƒãˆã‚‰ã‚Œã‚‹åŸå› ã¨å¯¾å‡¦

### åŸå› 1: æŠ½å‡ºç”»åƒãŒå­˜åœ¨ã—ãªã„

**ç¢ºèªæ–¹æ³•**:
- Step 2ã§ã€ŒæŠ½å‡ºã•ã‚ŒãŸç”»åƒã€ã‚®ãƒ£ãƒ©ãƒªãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

**å¯¾å‡¦**:
- ç¾åœ¨ã¯ãƒ†ã‚¹ãƒˆç”»åƒï¼ˆUnsplashï¼‰ã‚’ä½¿ç”¨ã™ã‚‹ã‚ˆã†ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè£…æ¸ˆã¿

### åŸå› 2: @vercel/og ãŒå¤–éƒ¨ç”»åƒã‚’èª­ã¿è¾¼ã‚ãªã„

**å¯èƒ½æ€§**:
- CORS ã‚¨ãƒ©ãƒ¼
- ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆï¼ˆ30ç§’åˆ¶é™ï¼‰
- ç”»åƒã‚µã‚¤ã‚ºãŒå¤§ãã™ãã‚‹

**å¯¾å‡¦**:
- ãƒ†ã‚¹ãƒˆç”»åƒï¼ˆUnsplashï¼‰ã§æ¤œè¨¼
- width/height å±æ€§ã‚’è¿½åŠ æ¸ˆã¿

### åŸå› 3: img ã‚¿ã‚°ãŒæ­£ã—ããƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã‚Œãªã„

**ç¢ºèªæ–¹æ³•**:
- Network ã‚¿ãƒ–ã§ `/api/compose-banner` ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç¢ºèª
- ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãŒç”»åƒï¼ˆPNGï¼‰ã¨ã—ã¦è¿”ã•ã‚Œã¦ã„ã‚‹ã‹

**å¯¾å‡¦**:
- Console ãƒ­ã‚°ã§ `hasBackgroundImage` ã®å€¤ã‚’ç¢ºèª
- `bg` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãŒæ­£ã—ãæ¸¡ã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª

---

## ğŸ“Š æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ

### ãƒ†ã‚¹ãƒˆç”»åƒä½¿ç”¨æ™‚ï¼ˆæŠ½å‡ºç”»åƒãªã—ï¼‰

```
Step 5: ãƒãƒŠãƒ¼ç”Ÿæˆ
   â†“
Console ãƒ­ã‚°:
[Banner 0] Using test image: https://images.unsplash.com/photo-1661956602116...
[Banner 0] Full URL with bg: /api/compose-banner?text=...&bg=https%3A%2F%2F...
   â†“
compose-banner API:
[compose-banner] Parameters: { bg: "https://images.unsplash.com/...", ... }
[compose-banner] Using external image: https://images.unsplash.com/...
   â†“
çµæœ:
âœ… Unsplash ã®ç”»åƒãŒèƒŒæ™¯ã«è¡¨ç¤ºã•ã‚Œã‚‹
âœ… ãƒ†ã‚­ã‚¹ãƒˆãŒã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤è¡¨ç¤ºã•ã‚Œã‚‹
```

### æŠ½å‡ºç”»åƒä½¿ç”¨æ™‚

```
Step 2: ã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°
   â†“
æŠ½å‡ºç”»åƒã‚®ãƒ£ãƒ©ãƒªãƒ¼ã«ç”»åƒè¡¨ç¤º
   â†“
Step 5: ãƒãƒŠãƒ¼ç”Ÿæˆ
   â†“
Console ãƒ­ã‚°:
[Banner 0] Using extracted image: https://example.com/image.jpg
[Banner 0] Full URL with bg: /api/compose-banner?...&bg=https%3A%2F%2Fexample.com...
   â†“
çµæœ:
âœ… æŠ½å‡ºã•ã‚ŒãŸç”»åƒãŒèƒŒæ™¯ã«è¡¨ç¤ºã•ã‚Œã‚‹
```

---

## ğŸ¯ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### 1. Vercel ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†å¾Œ

**URL**: `https://ad-cr-banana01.vercel.app`

### 2. ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ

1. ä»»æ„ã®URLã‚’å…¥åŠ›ï¼ˆä¾‹: `https://www.apple.com`ï¼‰
2. Step 2ã§ç”»åƒãŒæŠ½å‡ºã•ã‚Œã‚‹ã‹ç¢ºèª
3. Step 5ã§ãƒãƒŠãƒ¼ç”Ÿæˆ
4. **ãƒ–ãƒ©ã‚¦ã‚¶ Console ãƒ­ã‚°ã‚’ç¢ºèª**
5. **ç”»åƒãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ç¢ºèª**

### 3. ãƒ­ã‚°ã®å ±å‘Š

ã‚‚ã—ç”»åƒãŒè¡¨ç¤ºã•ã‚Œãªã„å ´åˆã€ä»¥ä¸‹ã‚’ç¢ºèªï¼š

**Console ãƒ­ã‚°**:
```
å³ã‚¯ãƒªãƒƒã‚¯ â†’ æ¤œè¨¼ â†’ Console ã‚¿ãƒ–
â†’ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’æ’®ã‚‹
```

**Network ã‚¿ãƒ–**:
```
å³ã‚¯ãƒªãƒƒã‚¯ â†’ æ¤œè¨¼ â†’ Network ã‚¿ãƒ–
â†’ /api/compose-banner ã‚’ã‚¯ãƒªãƒƒã‚¯
â†’ Response ã‚¿ãƒ–ã‚’ç¢ºèª
â†’ ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã‚’æ’®ã‚‹
```

**Vercel Runtime Logs**:
```
https://vercel.com/dashboard
â†’ ad-cr-banana01
â†’ Deployments
â†’ æœ€æ–°ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ã‚¯ãƒªãƒƒã‚¯
â†’ Runtime Logs
â†’ "[compose-banner]" ã§æ¤œç´¢
```

---

## ğŸ” ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ã‚±ãƒ¼ã‚¹1: Console ã«ä½•ã‚‚ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **: JavaScript ã‚¨ãƒ©ãƒ¼ã§å‡¦ç†ãŒæ­¢ã¾ã£ã¦ã„ã‚‹

**å¯¾å‡¦**: Console ã® Error ã‚¿ãƒ–ã‚’ç¢ºèª

### ã‚±ãƒ¼ã‚¹2: "Using test image" ãƒ­ã‚°ã¯å‡ºã‚‹ãŒç”»åƒãŒè¡¨ç¤ºã•ã‚Œãªã„

**åŸå› **: @vercel/og ãŒç”»åƒã‚’èª­ã¿è¾¼ã‚ã¦ã„ãªã„

**å¯¾å‡¦**:
1. Network ã‚¿ãƒ–ã§ `/api/compose-banner` ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç¢ºèª
2. Vercel Runtime Logs ã‚’ç¢ºèª

### ã‚±ãƒ¼ã‚¹3: API ãŒã‚¨ãƒ©ãƒ¼ã‚’è¿”ã™

**åŸå› **: compose-banner API ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿ

**å¯¾å‡¦**:
1. Network ã‚¿ãƒ–ã§ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèªï¼ˆ500ã‚¨ãƒ©ãƒ¼ãªã©ï¼‰
2. Vercel Runtime Logs ã§ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª

---

## âœ¨ ã¾ã¨ã‚

**ç¾åœ¨ã®çŠ¶æ…‹**:
- âœ… ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°è¿½åŠ æ¸ˆã¿
- âœ… ãƒ†ã‚¹ãƒˆç”»åƒï¼ˆUnsplashï¼‰ã‚’ä½¿ç”¨
- âœ… width/height å±æ€§è¿½åŠ æ¸ˆã¿

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**:
1. Vercel ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†ã‚’å¾…ã¤ï¼ˆ1ã€œ3åˆ†ï¼‰
2. ãƒ–ãƒ©ã‚¦ã‚¶ Console ã§ãƒ­ã‚°ã‚’ç¢ºèª
3. Network ã‚¿ãƒ–ã§ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’ç¢ºèª
4. ç”»åƒãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ç¢ºèª

**Commit**: `6543326`  
**Vercel**: è‡ªå‹•ãƒ‡ãƒ—ãƒ­ã‚¤ä¸­  
**ãƒ†ã‚¹ãƒˆURL**: `https://ad-cr-banana01.vercel.app`

---

**ãƒ‡ãƒ—ãƒ­ã‚¤å®Œäº†å¾Œã€å¿…ãšãƒ–ãƒ©ã‚¦ã‚¶ã® Console ãƒ­ã‚°ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼**
